<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Project</title>
    <link rel="stylesheet" href="/css/main.css">
</head>
<body class="bg-gray-100">

<%- include('partials/navbar', { page: '/solutions/editProject' }) %>

<div class="container mx-auto px-4 mt-16">

    <!-- Hero Header -->
    <section class="hero bg-blue-500 text-white text-center p-10 rounded-lg mb-8">
        <div class="hero-content text-center">
            <div class="max-w-md mx-auto">
                <h1 class="text-3xl font-bold leading-snug">Edit Project</h1>
                <p class="mt-2 text-lg"><%= project.title %></p>
            </div>
        </div>
    </section>

    <!-- Edit Form Card -->
    <div class="bg-white shadow-md p-6 rounded-lg max-w-2xl mx-auto">
        <form action="/solutions/editProject" method="POST" class="space-y-4">

            <!-- Hidden ID -->
            <input type="hidden" name="id" value="<%= project.id %>">

            <!-- Title -->
            <div>
                <label class="font-semibold">Project Title</label>
                <input type="text" name="title" class="input input-bordered w-full mt-1" 
                       value="<%= project.title %>" required>
            </div>

            <!-- Feature Image URL -->
            <div>
                <label class="font-semibold">Feature Image URL</label>
                <input type="url" name="feature_img_url" 
                       class="input input-bordered w-full mt-1"
                       value="<%= project.feature_img_url %>" required>
            </div>

            <!-- Sector Select -->
            <div>
                <label class="font-semibold">Sector</label>
                <select name="sector_id" class="select select-bordered w-full mt-1" required>
                    <% sectors.forEach(s => { %>
                        <option value="<%= s.id %>" 
                            <%= project.sector_id == s.id ? "selected" : "" %>>
                            <%= s.sector_name %>
                        </option>
                    <% }) %>
                </select>
            </div>

            <!-- Intro Short -->
            <div>
                <label class="font-semibold">Intro</label>
                <textarea name="intro_short" class="textarea textarea-bordered w-full mt-1" required><%= project.intro_short %></textarea>
            </div>

            <!-- Summary Short -->
            <div>
                <label class="font-semibold">Summary (Short)</label>
                <textarea name="summary_short" class="textarea textarea-bordered w-full mt-1" required><%= project.summary_short %></textarea>
            </div>

            <!-- Impact -->
            <div>
                <label class="font-semibold">Impact</label>
                <textarea name="impact" class="textarea textarea-bordered w-full mt-1" required><%= project.impact %></textarea>
            </div>

            <!-- Original Source URL -->
            <div>
                <label class="font-semibold">Original Source URL</label>
                <input type="url" name="original_source_url" 
                       class="input input-bordered w-full mt-1"
                       value="<%= project.original_source_url %>" required>
            </div>

            <!-- Update Button -->
            <button type="submit" class="btn bg-blue-500 text-white w-full mt-4">
                Update Project
            </button>
        </form>

        <!-- Delete Button -->
        <a href="/solutions/deleteProject/<%= project.id %>" 
           class="btn bg-red-500 text-white w-full mt-4"
           onclick="return confirm('Are you sure you want to delete this project?');">
            Delete Project
        </a>

    </div>

</div>

</body>
</html>
